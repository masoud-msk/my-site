{"remainingRequest":"/home/sjd/Desktop/my-site/vue-site/node_modules/babel-loader/lib/index.js!/home/sjd/Desktop/my-site/vue-site/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/sjd/Desktop/my-site/vue-site/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/sjd/Desktop/my-site/vue-site/src/components/Search.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/sjd/Desktop/my-site/vue-site/src/components/Search.vue","mtime":1599002628313},{"path":"/home/sjd/Desktop/my-site/vue-site/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/sjd/Desktop/my-site/vue-site/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/sjd/Desktop/my-site/vue-site/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/sjd/Desktop/my-site/vue-site/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIGluamVjdDogWydzZXRTdGRpbiddLAogIHByb3BzOiB7CiAgICBleGVjdXRlZDogewogICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgdHlwZTogU2V0CiAgICB9LAogICAgLy8gSW5kaWNhdGVzIGlmIHNlYXJjaCBpcyB2aXNpYmxlCiAgICBpc1NlYXJjaDogewogICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgdHlwZTogQm9vbGVhbgogICAgfSwKICAgIC8vIEN1cnJlbnQgU3RkaW4KICAgIHN0ZGluOiB7CiAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICB0eXBlOiBTdHJpbmcKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvLyBTdWdnZXN0ZWQgY29tbWFuZAogICAgICBjb21tYW5kOiAnJywKICAgICAgLy8gVXNlcnMgaW5wdXQKICAgICAgc2VhcmNoOiAnJwogICAgfTsKICB9LAogIHdhdGNoOiB7CiAgICBzZWFyY2g6IGZ1bmN0aW9uIHNlYXJjaCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIC8vIFNlYXJjaCBpbiBleGVjdXRlZCBjb21tYW5kcwogICAgICB0aGlzLmV4ZWN1dGVkLmZvckVhY2goZnVuY3Rpb24gKGV4ZWN1dGVkKSB7CiAgICAgICAgaWYgKGV4ZWN1dGVkLnN0YXJ0c1dpdGgoX3RoaXMuc2VhcmNoKSkgewogICAgICAgICAgX3RoaXMuY29tbWFuZCA9IGV4ZWN1dGVkOyAvLyBTZXQgdGhlIG5ldyBTdGRpbgoKICAgICAgICAgIF90aGlzLnNldFN0ZGluKGV4ZWN1dGVkKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuY29tbWFuZCA9IHRoaXMuc3RkaW47CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgLy8gRm9yY2UgYXV0b2ZvY3VzCiAgICB0aGlzLmZvY3VzKCk7IC8vIFJlc2l6ZSBpbnB1dCBhYm91dCBjaGFyYWN0ZXJzCgogICAgZnVuY3Rpb24gcmVzaXplKCkgewogICAgICB0aGlzLnN0eWxlLndpZHRoID0gIiIuY29uY2F0KHRoaXMudmFsdWUubGVuZ3RoLCAiY2giKTsKICAgIH0KCiAgICB2YXIgaW5wdXQgPSB0aGlzLiRyZWZzLmlucHV0OwogICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCByZXNpemUpOwogICAgcmVzaXplLmNhbGwoaW5wdXQpOwogIH0sCiAgbWV0aG9kczogewogICAgaGFuZGxlOiBmdW5jdGlvbiBoYW5kbGUoKSB7CiAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZTppc1NlYXJjaCcsIGZhbHNlKTsgLy8gUmVxdWVzdCB0byBoYW5kbGUgdGhlIGN1cnJlbnQgc2VhcmNoCgogICAgICB0aGlzLiRlbWl0KCdoYW5kbGUnLCB0aGlzLmNvbW1hbmQpOwogICAgfSwKICAgIGZvY3VzOiBmdW5jdGlvbiBmb2N1cygpIHsKICAgICAgdGhpcy4kcmVmcy5pbnB1dC5mb2N1cygpOwogICAgfSwKICAgIHNldElzU2VhcmNoOiBmdW5jdGlvbiBzZXRJc1NlYXJjaChpc1NlYXJjaCkgewogICAgICB0aGlzLiRlbWl0KCd1cGRhdGU6aXNTZWFyY2gnLCBpc1NlYXJjaCk7CiAgICB9LAogICAgLy8gVGVybWluYXRlIHNlYXJjaCBhZnRlciBjYW5jZWxsYXRpb24KICAgIHNpZ2ludDogZnVuY3Rpb24gc2lnaW50KCkgewogICAgICB0aGlzLnNldFN0ZGluKCcnKTsKICAgICAgdGhpcy4kZW1pdCgndXBkYXRlOmlzU2VhcmNoJywgZmFsc2UpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["Search.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAyBA,eAAA;AACA,EAAA,MAAA,EAAA,CAAA,UAAA,CADA;AAGA,EAAA,KAAA,EAAA;AACA,IAAA,QAAA,EAAA;AACA,MAAA,QAAA,EAAA,IADA;AAEA,MAAA,IAAA,EAAA;AAFA,KADA;AAMA;AACA,IAAA,QAAA,EAAA;AACA,MAAA,QAAA,EAAA,IADA;AAEA,MAAA,IAAA,EAAA;AAFA,KAPA;AAYA;AACA,IAAA,KAAA,EAAA;AACA,MAAA,QAAA,EAAA,IADA;AAEA,MAAA,IAAA,EAAA;AAFA;AAbA,GAHA;AAsBA,EAAA,IAAA,EAAA;AAAA,WAAA;AACA;AACA,MAAA,OAAA,EAAA,EAFA;AAGA;AACA,MAAA,MAAA,EAAA;AAJA,KAAA;AAAA,GAtBA;AA6BA,EAAA,KAAA,EAAA;AACA,IAAA,MADA,oBACA;AAAA;;AACA;AACA,WAAA,QAAA,CAAA,OAAA,CAAA,UAAA,QAAA,EAAA;AACA,YAAA,QAAA,CAAA,UAAA,CAAA,KAAA,CAAA,MAAA,CAAA,EAAA;AACA,UAAA,KAAA,CAAA,OAAA,GAAA,QAAA,CADA,CAEA;;AACA,UAAA,KAAA,CAAA,QAAA,CAAA,QAAA;AACA;AACA,OANA;AAOA;AAVA,GA7BA;AA0CA,EAAA,OA1CA,qBA0CA;AACA,SAAA,OAAA,GAAA,KAAA,KAAA;AACA,GA5CA;AA8CA,EAAA,OA9CA,qBA8CA;AACA;AACA,SAAA,KAAA,GAFA,CAIA;;AACA,aAAA,MAAA,GAAA;AACA,WAAA,KAAA,CAAA,KAAA,aAAA,KAAA,KAAA,CAAA,MAAA;AACA;;AACA,QAAA,KAAA,GAAA,KAAA,KAAA,CAAA,KAAA;AACA,IAAA,KAAA,CAAA,gBAAA,CAAA,OAAA,EAAA,MAAA;AAEA,IAAA,MAAA,CAAA,IAAA,CAAA,KAAA;AACA,GA1DA;AA4DA,EAAA,OAAA,EAAA;AACA,IAAA,MADA,oBACA;AACA,WAAA,KAAA,CAAA,iBAAA,EAAA,KAAA,EADA,CAEA;;AACA,WAAA,KAAA,CAAA,QAAA,EAAA,KAAA,OAAA;AACA,KALA;AAOA,IAAA,KAPA,mBAOA;AACA,WAAA,KAAA,CAAA,KAAA,CAAA,KAAA;AACA,KATA;AAWA,IAAA,WAXA,uBAWA,QAXA,EAWA;AACA,WAAA,KAAA,CAAA,iBAAA,EAAA,QAAA;AACA,KAbA;AAeA;AACA,IAAA,MAhBA,oBAgBA;AACA,WAAA,QAAA,CAAA,EAAA;AACA,WAAA,KAAA,CAAA,iBAAA,EAAA,KAAA;AACA;AAnBA;AA5DA,CAAA","sourcesContent":["<template>\n  <div\n    ref=\"term-cont\"\n    class=\"term-cont term-cont-fullscreen\"\n    @keydown.tab.exact.prevent=\"setIsSearch(false)\"\n    @keydown.esc.exact.prevent=\"setIsSearch(false)\"\n    @keydown.ctrl.67.exact.prevent=\"sigint\">\n    <div class=\"term-search-container\">\n      <span class=\"term-search\">\n        (reverse-i-search)`\n        <input\n          ref=\"input\"\n          v-model=\"search\"\n          autofocus\n          type=\"text\"\n          autocorrect=\"off\"\n          autocapitalize=\"none\"\n          @keyup.enter.exact=\"handle\"/>\n        ': {{ command }}\n      </span>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  inject: ['setStdin'],\n\n  props: {\n    executed: {\n      required: true,\n      type: Set\n    },\n\n    // Indicates if search is visible\n    isSearch: {\n      required: true,\n      type: Boolean\n    },\n\n    // Current Stdin\n    stdin: {\n      required: true,\n      type: String\n    }\n  },\n\n  data: () => ({\n    // Suggested command\n    command: '',\n    // Users input\n    search: ''\n  }),\n\n  watch: {\n    search () {\n      // Search in executed commands\n      this.executed.forEach((executed) => {\n        if (executed.startsWith(this.search)) {\n          this.command = executed\n          // Set the new Stdin\n          this.setStdin(executed)\n        }\n      })\n    }\n  },\n\n  created () {\n    this.command = this.stdin\n  },\n\n  mounted () {\n    // Force autofocus\n    this.focus()\n\n    // Resize input about characters\n    function resize () {\n      this.style.width = `${this.value.length}ch`\n    }\n    const input = this.$refs.input\n    input.addEventListener('input', resize)\n\n    resize.call(input)\n  },\n\n  methods: {\n    handle () {\n      this.$emit('update:isSearch', false)\n      // Request to handle the current search\n      this.$emit('handle', this.command)\n    },\n\n    focus () {\n      this.$refs.input.focus()\n    },\n\n    setIsSearch (isSearch) {\n      this.$emit('update:isSearch', isSearch)\n    },\n\n    // Terminate search after cancellation\n    sigint () {\n      this.setStdin('')\n      this.$emit('update:isSearch', false)\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n@import \"../scss/mixins\";\n\n.vue-command {\n  .term-search-container {\n    display: flex;\n  }\n\n  input,\n  textarea {\n    background: none;\n    border: none;\n    font-family: \"Inconsolata\", monospace;\n    font-size: 1rem;\n    outline: none;\n    flex: 1;\n    width: 100%;\n\n    &::placeholder {\n      color: rgba(255, 255, 255, 0.5);\n    }\n  }\n\n  .term-search {\n    flex: 1;\n    background: none;\n    margin: 0;\n    border: 0;\n    color: inherit;\n    font-family: inherit;\n    font-size: 1rem;\n  }\n\n  .term-ps {\n    margin-right: 0.5rem;\n    color: #71ad38;\n    font-size: 20px;\n  }\n}\n</style>\n"],"sourceRoot":"src/components"}]}