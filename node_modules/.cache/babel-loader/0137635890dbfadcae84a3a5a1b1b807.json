{"remainingRequest":"/home/sjd/Desktop/my-site/node_modules/babel-loader/lib/index.js!/home/sjd/Desktop/my-site/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/sjd/Desktop/my-site/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/sjd/Desktop/my-site/src/components/Search.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/sjd/Desktop/my-site/src/components/Search.vue","mtime":1599002628313},{"path":"/home/sjd/Desktop/my-site/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/sjd/Desktop/my-site/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/sjd/Desktop/my-site/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/sjd/Desktop/my-site/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/home/sjd/Desktop/my-site/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/sjd/Desktop/my-site/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/sjd/Desktop/my-site/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/sjd/Desktop/my-site/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIGluamVjdDogWydzZXRTdGRpbiddLAogIHByb3BzOiB7CiAgICBleGVjdXRlZDogewogICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgdHlwZTogU2V0CiAgICB9LAogICAgLy8gSW5kaWNhdGVzIGlmIHNlYXJjaCBpcyB2aXNpYmxlCiAgICBpc1NlYXJjaDogewogICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgdHlwZTogQm9vbGVhbgogICAgfSwKICAgIC8vIEN1cnJlbnQgU3RkaW4KICAgIHN0ZGluOiB7CiAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICB0eXBlOiBTdHJpbmcKICAgIH0KICB9LAogIGRhdGE6ICgpID0+ICh7CiAgICAvLyBTdWdnZXN0ZWQgY29tbWFuZAogICAgY29tbWFuZDogJycsCiAgICAvLyBVc2VycyBpbnB1dAogICAgc2VhcmNoOiAnJwogIH0pLAogIHdhdGNoOiB7CiAgICBzZWFyY2goKSB7CiAgICAgIC8vIFNlYXJjaCBpbiBleGVjdXRlZCBjb21tYW5kcwogICAgICB0aGlzLmV4ZWN1dGVkLmZvckVhY2goZXhlY3V0ZWQgPT4gewogICAgICAgIGlmIChleGVjdXRlZC5zdGFydHNXaXRoKHRoaXMuc2VhcmNoKSkgewogICAgICAgICAgdGhpcy5jb21tYW5kID0gZXhlY3V0ZWQ7IC8vIFNldCB0aGUgbmV3IFN0ZGluCgogICAgICAgICAgdGhpcy5zZXRTdGRpbihleGVjdXRlZCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KCiAgfSwKCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuY29tbWFuZCA9IHRoaXMuc3RkaW47CiAgfSwKCiAgbW91bnRlZCgpIHsKICAgIC8vIEZvcmNlIGF1dG9mb2N1cwogICAgdGhpcy5mb2N1cygpOyAvLyBSZXNpemUgaW5wdXQgYWJvdXQgY2hhcmFjdGVycwoKICAgIGZ1bmN0aW9uIHJlc2l6ZSgpIHsKICAgICAgdGhpcy5zdHlsZS53aWR0aCA9IGAke3RoaXMudmFsdWUubGVuZ3RofWNoYDsKICAgIH0KCiAgICBjb25zdCBpbnB1dCA9IHRoaXMuJHJlZnMuaW5wdXQ7CiAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIHJlc2l6ZSk7CiAgICByZXNpemUuY2FsbChpbnB1dCk7CiAgfSwKCiAgbWV0aG9kczogewogICAgaGFuZGxlKCkgewogICAgICB0aGlzLiRlbWl0KCd1cGRhdGU6aXNTZWFyY2gnLCBmYWxzZSk7IC8vIFJlcXVlc3QgdG8gaGFuZGxlIHRoZSBjdXJyZW50IHNlYXJjaAoKICAgICAgdGhpcy4kZW1pdCgnaGFuZGxlJywgdGhpcy5jb21tYW5kKTsKICAgIH0sCgogICAgZm9jdXMoKSB7CiAgICAgIHRoaXMuJHJlZnMuaW5wdXQuZm9jdXMoKTsKICAgIH0sCgogICAgc2V0SXNTZWFyY2goaXNTZWFyY2gpIHsKICAgICAgdGhpcy4kZW1pdCgndXBkYXRlOmlzU2VhcmNoJywgaXNTZWFyY2gpOwogICAgfSwKCiAgICAvLyBUZXJtaW5hdGUgc2VhcmNoIGFmdGVyIGNhbmNlbGxhdGlvbgogICAgc2lnaW50KCkgewogICAgICB0aGlzLnNldFN0ZGluKCcnKTsKICAgICAgdGhpcy4kZW1pdCgndXBkYXRlOmlzU2VhcmNoJywgZmFsc2UpOwogICAgfQoKICB9Cn07"},{"version":3,"sources":["Search.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAyBA,eAAA;AACA,EAAA,MAAA,EAAA,CAAA,UAAA,CADA;AAGA,EAAA,KAAA,EAAA;AACA,IAAA,QAAA,EAAA;AACA,MAAA,QAAA,EAAA,IADA;AAEA,MAAA,IAAA,EAAA;AAFA,KADA;AAMA;AACA,IAAA,QAAA,EAAA;AACA,MAAA,QAAA,EAAA,IADA;AAEA,MAAA,IAAA,EAAA;AAFA,KAPA;AAYA;AACA,IAAA,KAAA,EAAA;AACA,MAAA,QAAA,EAAA,IADA;AAEA,MAAA,IAAA,EAAA;AAFA;AAbA,GAHA;AAsBA,EAAA,IAAA,EAAA,OAAA;AACA;AACA,IAAA,OAAA,EAAA,EAFA;AAGA;AACA,IAAA,MAAA,EAAA;AAJA,GAAA,CAtBA;AA6BA,EAAA,KAAA,EAAA;AACA,IAAA,MAAA,GAAA;AACA;AACA,WAAA,QAAA,CAAA,OAAA,CAAA,QAAA,IAAA;AACA,YAAA,QAAA,CAAA,UAAA,CAAA,KAAA,MAAA,CAAA,EAAA;AACA,eAAA,OAAA,GAAA,QAAA,CADA,CAEA;;AACA,eAAA,QAAA,CAAA,QAAA;AACA;AACA,OANA;AAOA;;AAVA,GA7BA;;AA0CA,EAAA,OAAA,GAAA;AACA,SAAA,OAAA,GAAA,KAAA,KAAA;AACA,GA5CA;;AA8CA,EAAA,OAAA,GAAA;AACA;AACA,SAAA,KAAA,GAFA,CAIA;;AACA,aAAA,MAAA,GAAA;AACA,WAAA,KAAA,CAAA,KAAA,GAAA,GAAA,KAAA,KAAA,CAAA,MAAA,IAAA;AACA;;AACA,UAAA,KAAA,GAAA,KAAA,KAAA,CAAA,KAAA;AACA,IAAA,KAAA,CAAA,gBAAA,CAAA,OAAA,EAAA,MAAA;AAEA,IAAA,MAAA,CAAA,IAAA,CAAA,KAAA;AACA,GA1DA;;AA4DA,EAAA,OAAA,EAAA;AACA,IAAA,MAAA,GAAA;AACA,WAAA,KAAA,CAAA,iBAAA,EAAA,KAAA,EADA,CAEA;;AACA,WAAA,KAAA,CAAA,QAAA,EAAA,KAAA,OAAA;AACA,KALA;;AAOA,IAAA,KAAA,GAAA;AACA,WAAA,KAAA,CAAA,KAAA,CAAA,KAAA;AACA,KATA;;AAWA,IAAA,WAAA,CAAA,QAAA,EAAA;AACA,WAAA,KAAA,CAAA,iBAAA,EAAA,QAAA;AACA,KAbA;;AAeA;AACA,IAAA,MAAA,GAAA;AACA,WAAA,QAAA,CAAA,EAAA;AACA,WAAA,KAAA,CAAA,iBAAA,EAAA,KAAA;AACA;;AAnBA;AA5DA,CAAA","sourcesContent":["<template>\n  <div\n    ref=\"term-cont\"\n    class=\"term-cont term-cont-fullscreen\"\n    @keydown.tab.exact.prevent=\"setIsSearch(false)\"\n    @keydown.esc.exact.prevent=\"setIsSearch(false)\"\n    @keydown.ctrl.67.exact.prevent=\"sigint\">\n    <div class=\"term-search-container\">\n      <span class=\"term-search\">\n        (reverse-i-search)`\n        <input\n          ref=\"input\"\n          v-model=\"search\"\n          autofocus\n          type=\"text\"\n          autocorrect=\"off\"\n          autocapitalize=\"none\"\n          @keyup.enter.exact=\"handle\"/>\n        ': {{ command }}\n      </span>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  inject: ['setStdin'],\n\n  props: {\n    executed: {\n      required: true,\n      type: Set\n    },\n\n    // Indicates if search is visible\n    isSearch: {\n      required: true,\n      type: Boolean\n    },\n\n    // Current Stdin\n    stdin: {\n      required: true,\n      type: String\n    }\n  },\n\n  data: () => ({\n    // Suggested command\n    command: '',\n    // Users input\n    search: ''\n  }),\n\n  watch: {\n    search () {\n      // Search in executed commands\n      this.executed.forEach((executed) => {\n        if (executed.startsWith(this.search)) {\n          this.command = executed\n          // Set the new Stdin\n          this.setStdin(executed)\n        }\n      })\n    }\n  },\n\n  created () {\n    this.command = this.stdin\n  },\n\n  mounted () {\n    // Force autofocus\n    this.focus()\n\n    // Resize input about characters\n    function resize () {\n      this.style.width = `${this.value.length}ch`\n    }\n    const input = this.$refs.input\n    input.addEventListener('input', resize)\n\n    resize.call(input)\n  },\n\n  methods: {\n    handle () {\n      this.$emit('update:isSearch', false)\n      // Request to handle the current search\n      this.$emit('handle', this.command)\n    },\n\n    focus () {\n      this.$refs.input.focus()\n    },\n\n    setIsSearch (isSearch) {\n      this.$emit('update:isSearch', isSearch)\n    },\n\n    // Terminate search after cancellation\n    sigint () {\n      this.setStdin('')\n      this.$emit('update:isSearch', false)\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n@import \"../scss/mixins\";\n\n.vue-command {\n  .term-search-container {\n    display: flex;\n  }\n\n  input,\n  textarea {\n    background: none;\n    border: none;\n    font-family: \"Inconsolata\", monospace;\n    font-size: 1rem;\n    outline: none;\n    flex: 1;\n    width: 100%;\n\n    &::placeholder {\n      color: rgba(255, 255, 255, 0.5);\n    }\n  }\n\n  .term-search {\n    flex: 1;\n    background: none;\n    margin: 0;\n    border: 0;\n    color: inherit;\n    font-family: inherit;\n    font-size: 1rem;\n  }\n\n  .term-ps {\n    margin-right: 0.5rem;\n    color: #71ad38;\n    font-size: 20px;\n  }\n}\n</style>\n"],"sourceRoot":"src/components"}]}