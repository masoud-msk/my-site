{"remainingRequest":"/home/sjd/Desktop/my-site/node_modules/babel-loader/lib/index.js!/home/sjd/Desktop/my-site/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/sjd/Desktop/my-site/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/sjd/Desktop/my-site/src/components/Stdin.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/sjd/Desktop/my-site/src/components/Stdin.vue","mtime":1599003308149},{"path":"/home/sjd/Desktop/my-site/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/sjd/Desktop/my-site/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/sjd/Desktop/my-site/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/sjd/Desktop/my-site/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/home/sjd/Desktop/my-site/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/sjd/Desktop/my-site/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/sjd/Desktop/my-site/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/sjd/Desktop/my-site/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIGluamVjdDogWydzZXRDdXJzb3InLCAnc2V0U3RkaW4nXSwKICBwcm9wczogewogICAgYnVzOiB7CiAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICB0eXBlOiBPYmplY3QKICAgIH0sCiAgICBjdXJzb3I6IHsKICAgICAgZGVmYXVsdDogMCwKICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgIHR5cGU6IE51bWJlcgogICAgfSwKICAgIGhlbHBUZXh0OiB7CiAgICAgIGRlZmF1bHQ6ICcnLAogICAgICB0eXBlOiBTdHJpbmcKICAgIH0sCiAgICBoZWxwVGltZW91dDogewogICAgICBkZWZhdWx0OiAwLAogICAgICB0eXBlOiBOdW1iZXIKICAgIH0sCiAgICBoaWRlUHJvbXB0OiB7CiAgICAgIGRlZmF1bHQ6IGZhbHNlLAogICAgICB0eXBlOiBCb29sZWFuCiAgICB9LAogICAgaXNJblByb2dyZXNzOiB7CiAgICAgIGRlZmF1bHQ6IGZhbHNlLAogICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgdHlwZTogQm9vbGVhbgogICAgfSwKICAgIGlzTGFzdDogewogICAgICBkZWZhdWx0OiBmYWxzZSwKICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgIHR5cGU6IEJvb2xlYW4KICAgIH0sCiAgICBpc0Z1bGxzY3JlZW46IHsKICAgICAgZGVmYXVsdDogZmFsc2UsCiAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICB0eXBlOiBCb29sZWFuCiAgICB9LAogICAgcHJvbXB0OiB7CiAgICAgIGRlZmF1bHQ6ICcnLAogICAgICB0eXBlOiBTdHJpbmcKICAgIH0sCiAgICBzaG93SGVscDogewogICAgICBkZWZhdWx0OiBmYWxzZSwKICAgICAgdHlwZTogQm9vbGVhbgogICAgfSwKICAgIHN0ZGluOiB7CiAgICAgIGRlZmF1bHQ6ICcnLAogICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgdHlwZTogU3RyaW5nCiAgICB9LAogICAgdWlkOiB7CiAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICB0eXBlOiBOdW1iZXIKICAgIH0KICB9LAogIGRhdGE6ICgpID0+ICh7CiAgICBwbGFjZWhvbGRlcjogJycsCiAgICBsb2NhbDogewogICAgICAvLyBUaGlzIG1ha2VzIGl0IHBvc3NpYmxlIHRvIGNoYW5nZSB0aGUgcHJvbXB0IGR1cmluZyBydW50aW1lCiAgICAgIHByb21wdDogJycsCiAgICAgIHN0ZGluOiAnJwogICAgfQogIH0pLAogIHdhdGNoOiB7CiAgICBjdXJzb3IoKSB7CiAgICAgIGlmICh0aGlzLmlzTGFzdCkgewogICAgICAgIC8vIE1pcnJvciB0aGUgY3Vyc29yIHBvc2l0aW9uIHRvIHRoZSByZWFsIGN1cnNvciBwb3NpdGlvbgogICAgICAgIHRoaXMuJHJlZnMuaW5wdXQuc2V0U2VsZWN0aW9uUmFuZ2UodGhpcy5jdXJzb3IsIHRoaXMuY3Vyc29yKTsKICAgICAgfQogICAgfSwKCiAgICBhc3luYyBpc0luUHJvZ3Jlc3MoKSB7CiAgICAgIGlmICghdGhpcy5pc0luUHJvZ3Jlc3MgJiYgdGhpcy5pc0xhc3QpIHsKICAgICAgICBhd2FpdCB0aGlzLiRuZXh0VGljaygpOwogICAgICAgIHRoaXMuc2Nyb2xsSW50b1ZpZXcoKTsKICAgICAgICB0aGlzLmZvY3VzKCk7CiAgICAgIH0KICAgIH0sCgogICAgaXNMYXN0KGlzTGFzdCwgd2FzTGFzdCkgewogICAgICBpZiAod2FzTGFzdCAmJiAhaXNMYXN0KSB7CiAgICAgICAgLy8gQWxsb3cgY29tcG9uZW50cyB0byBnZXQgaW50byBmb2N1cwogICAgICAgIHRoaXMuYmx1cigpOwogICAgICB9CiAgICB9LAoKICAgIGFzeW5jIHN0ZGluKCkgewogICAgICAvLyBPbmx5IGxhc3QgU3RkaW4gaXMgYWxsb3dlZCB0byBtdXRhdGUKICAgICAgaWYgKHRoaXMuaXNMYXN0ICYmICF0aGlzLmlzSW5Qcm9ncmVzcykgewogICAgICAgIHRoaXMubG9jYWwuc3RkaW4gPSB0aGlzLnN0ZGluOwogICAgICB9CgogICAgICBhd2FpdCB0aGlzLiRuZXh0VGljaygpOyAvLyBTZXQgY3VycmVudCBjdXJzb3IgcG9zaXRpb24KCiAgICAgIHRoaXMuc2V0Q3Vyc29yKHRoaXMuJHJlZnMuaW5wdXQuc2VsZWN0aW9uU3RhcnQpOwogICAgfSwKCiAgICAnbG9jYWwuc3RkaW4nKCkgewogICAgICAvLyBTZXQgY3VycmVudCBTdGRpbgogICAgICB0aGlzLiRlbWl0KCd1cGRhdGU6c3RkaW4nLCB0aGlzLmxvY2FsLnN0ZGluKTsgLy8gU2V0IGN1cnJlbnQgY3Vyc29yIHBvc2l0aW9uCgogICAgICB0aGlzLnNldEN1cnNvcih0aGlzLiRyZWZzLmlucHV0LnNlbGVjdGlvblN0YXJ0KTsKICAgIH0KCiAgfSwKCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMubG9jYWwucHJvbXB0ID0gdGhpcy5wcm9tcHQ7CiAgICB0aGlzLmxvY2FsLnN0ZGluID0gdGhpcy5zdGRpbjsKICB9LAoKICBtb3VudGVkKCkgewogICAgLy8gU2Nyb2xsIHRvIGN1cnJlbnQgaW5wdXQKICAgIHRoaXMuc2Nyb2xsSW50b1ZpZXcoKTsgLy8gRm9jdXMgbmV3IFN0ZGluCgogICAgdGhpcy5mb2N1cygpOwogICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgIGlmICh0aGlzLmlzTGFzdCAmJiB0aGlzLnNob3dIZWxwKSB7CiAgICAgICAgdGhpcy5zZXRQbGFjZWhvbGRlcih0aGlzLmhlbHBUZXh0KTsKICAgICAgfQogICAgfSwgdGhpcy5oZWxwVGltZW91dCk7CiAgfSwKCiAgbWV0aG9kczogewogICAgLy8gSGFuZGxlIGN1cnJlbnQgY29tbWFuZAogICAgaGFuZGxlKCkgewogICAgICAvLyBQZXJzaXN0IHRoZSBjdXJyZW50IHByb21wdAogICAgICB0aGlzLnNldFByb21wdCh0aGlzLnByb21wdCk7IC8vIFJlcXVlc3QgdG8gaGFuZGxlIHRoZSBjdXJyZW50IFN0ZGluCgogICAgICB0aGlzLiRlbWl0KCdoYW5kbGUnLCB0aGlzLmxvY2FsLnN0ZGluKTsgLy8gSGlkZSB0aGUgY3VycmVudCBwbGFjZWhvbGRlcgoKICAgICAgdGhpcy5zZXRQbGFjZWhvbGRlcignJyk7CiAgICB9LAoKICAgIHNldFBsYWNlaG9sZGVyKHBsYWNlaG9sZGVyKSB7CiAgICAgIHRoaXMucGxhY2Vob2xkZXIgPSBwbGFjZWhvbGRlcjsKICAgIH0sCgogICAgc2V0UHJvbXB0KHByb210KSB7CiAgICAgIHRoaXMubG9jYWwucHJvbXB0ID0gcHJvbXQ7CiAgICB9LAoKICAgIGJsdXIoKSB7CiAgICAgIHRoaXMuJHJlZnMuaW5wdXQuYmx1cigpOwogICAgfSwKCiAgICBmb2N1cygpIHsKICAgICAgdGhpcy4kcmVmcy5pbnB1dC5mb2N1cygpOwogICAgfSwKCiAgICBzY3JvbGxJbnRvVmlldygpIHsKICAgICAgdGhpcy4kcmVmcy5pbnB1dC5zY3JvbGxJbnRvVmlldygpOwogICAgfQoKICB9Cn07"},{"version":3,"sources":["Stdin.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"term-stdin-container\">\n    <slot name=\"prompt\">\n      <span\n        v-if=\"!hidePrompt\"\n        class=\"term-ps\">{{ local.prompt }}</span>\n    </slot>\n\n    <span class=\"term-stdin\">\n      <input\n        ref=\"input\"\n        v-model=\"local.stdin\"\n        :autofocus=\"isLast\"\n        :disabled=\"!isLast || isInProgress\"\n        :placeholder=\"placeholder\"\n        type=\"text\"\n        autocorrect=\"off\"\n        autocapitalize=\"none\"\n        @click=\"setCursor($refs.input.selectionStart)\"\n        @keyup=\"setCursor($refs.input.selectionStart)\"\n        @keyup.enter.exact=\"handle\"/>\n    </span>\n  </div>\n</template>\n\n<script>\nexport default {\n  inject: ['setCursor', 'setStdin'],\n\n  props: {\n    bus: {\n      required: true,\n      type: Object\n    },\n\n    cursor: {\n      default: 0,\n      required: true,\n      type: Number\n    },\n\n    helpText: {\n      default: '',\n      type: String\n    },\n\n    helpTimeout: {\n      default: 0,\n      type: Number\n    },\n\n    hidePrompt: {\n      default: false,\n      type: Boolean\n    },\n\n    isInProgress: {\n      default: false,\n      required: true,\n      type: Boolean\n    },\n\n    isLast: {\n      default: false,\n      required: true,\n      type: Boolean\n    },\n\n    isFullscreen: {\n      default: false,\n      required: true,\n      type: Boolean\n    },\n\n    prompt: {\n      default: '',\n      type: String\n    },\n\n    showHelp: {\n      default: false,\n      type: Boolean\n    },\n\n    stdin: {\n      default: '',\n      required: true,\n      type: String\n    },\n\n    uid: {\n      required: true,\n      type: Number\n    }\n  },\n\n  data: () => ({\n    placeholder: '',\n    local: {\n      // This makes it possible to change the prompt during runtime\n      prompt: '',\n      stdin: ''\n    }\n  }),\n\n  watch: {\n    cursor () {\n      if (this.isLast) {\n        // Mirror the cursor position to the real cursor position\n        this.$refs.input.setSelectionRange(this.cursor, this.cursor)\n      }\n    },\n\n    async isInProgress () {\n      if (!this.isInProgress && this.isLast) {\n        await this.$nextTick()\n\n        this.scrollIntoView()\n        this.focus()\n      }\n    },\n\n    isLast (isLast, wasLast) {\n      if (wasLast && !isLast) {\n        // Allow components to get into focus\n        this.blur()\n      }\n    },\n\n    async stdin () {\n      // Only last Stdin is allowed to mutate\n      if (this.isLast && !this.isInProgress) {\n        this.local.stdin = this.stdin\n      }\n\n      await this.$nextTick()\n      // Set current cursor position\n      this.setCursor(this.$refs.input.selectionStart)\n    },\n\n    'local.stdin' () {\n      // Set current Stdin\n      this.$emit('update:stdin', this.local.stdin)\n      // Set current cursor position\n      this.setCursor(this.$refs.input.selectionStart)\n    }\n  },\n\n  created () {\n    this.local.prompt = this.prompt\n    this.local.stdin = this.stdin\n  },\n\n  mounted () {\n    // Scroll to current input\n    this.scrollIntoView()\n    // Focus new Stdin\n    this.focus()\n\n    setTimeout(() => {\n      if (this.isLast && this.showHelp) {\n        this.setPlaceholder(this.helpText)\n      }\n    }, this.helpTimeout)\n  },\n\n  methods: {\n    // Handle current command\n    handle () {\n      // Persist the current prompt\n      this.setPrompt(this.prompt)\n      // Request to handle the current Stdin\n      this.$emit('handle', this.local.stdin)\n      // Hide the current placeholder\n      this.setPlaceholder('')\n    },\n\n    setPlaceholder (placeholder) {\n      this.placeholder = placeholder\n    },\n\n    setPrompt (promt) {\n      this.local.prompt = promt\n    },\n\n    blur () {\n      this.$refs.input.blur()\n    },\n\n    focus () {\n      this.$refs.input.focus()\n    },\n\n    scrollIntoView () {\n      this.$refs.input.scrollIntoView()\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n@import \"../scss/mixins\";\n\n.vue-command {\n  .term-stdin-container {\n    display: flex;\n  }\n\n  input,\n  textarea {\n    background: none;\n    border: none;\n    font-family: \"Inconsolata\", monospace;\n    color: #65888c;\n    font-size: 20px;\n    outline: none;\n    flex: 1;\n    width: 100%;\n\n    &::placeholder {\n      color: rgba(255, 255, 255, 0.5);\n    }\n  }\n\n  .term-stdin {\n    flex: 1;\n    color: #65888c;\n    font-size: 20px;\n    margin: 0;\n    border: 0;\n    color: inherit;\n    font-family: inherit;\n    font-size: 1rem;\n  }\n}\n</style>\n"],"sourceRoot":"src/components"}]}