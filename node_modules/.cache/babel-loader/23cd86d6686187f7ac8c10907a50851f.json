{"remainingRequest":"/home/sjd/Desktop/vue-command/node_modules/babel-loader/lib/index.js!/home/sjd/Desktop/vue-command/node_modules/eslint-loader/index.js??ref--13-0!/home/sjd/Desktop/vue-command/src/mixins/handle.js","dependencies":[{"path":"/home/sjd/Desktop/vue-command/src/mixins/handle.js","mtime":1598999993622},{"path":"/home/sjd/Desktop/vue-command/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/sjd/Desktop/vue-command/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/sjd/Desktop/vue-command/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL2hvbWUvc2pkL0Rlc2t0b3AvdnVlLWNvbW1hbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL3JlZ2VuZXJhdG9yIjsKCmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9CgpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH0KCmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9CgpmdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IHJldHVybiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5KGFycikgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFycikgfHwgX25vbkl0ZXJhYmxlU3ByZWFkKCk7IH0KCmZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIik7IH0KCmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gInN0cmluZyIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSAiT2JqZWN0IiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gIk1hcCIgfHwgbiA9PT0gIlNldCIpIHJldHVybiBBcnJheS5mcm9tKG4pOyBpZiAobiA9PT0gIkFyZ3VtZW50cyIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9CgpmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHsgaWYgKHR5cGVvZiBTeW1ib2wgIT09ICJ1bmRlZmluZWQiICYmIFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoaXRlcikpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpOyB9CgpmdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShhcnIpOyB9CgpmdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH0KCmZ1bmN0aW9uIGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywga2V5LCBhcmcpIHsgdHJ5IHsgdmFyIGluZm8gPSBnZW5ba2V5XShhcmcpOyB2YXIgdmFsdWUgPSBpbmZvLnZhbHVlOyB9IGNhdGNoIChlcnJvcikgeyByZWplY3QoZXJyb3IpOyByZXR1cm47IH0gaWYgKGluZm8uZG9uZSkgeyByZXNvbHZlKHZhbHVlKTsgfSBlbHNlIHsgUHJvbWlzZS5yZXNvbHZlKHZhbHVlKS50aGVuKF9uZXh0LCBfdGhyb3cpOyB9IH0KCmZ1bmN0aW9uIF9hc3luY1RvR2VuZXJhdG9yKGZuKSB7IHJldHVybiBmdW5jdGlvbiAoKSB7IHZhciBzZWxmID0gdGhpcywgYXJncyA9IGFyZ3VtZW50czsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdmFyIGdlbiA9IGZuLmFwcGx5KHNlbGYsIGFyZ3MpOyBmdW5jdGlvbiBfbmV4dCh2YWx1ZSkgeyBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csICJuZXh0IiwgdmFsdWUpOyB9IGZ1bmN0aW9uIF90aHJvdyhlcnIpIHsgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCAidGhyb3ciLCBlcnIpOyB9IF9uZXh0KHVuZGVmaW5lZCk7IH0pOyB9OyB9CgppbXBvcnQgZ2V0T3B0cyBmcm9tICdnZXRvcHRzJzsKaW1wb3J0IHsgY3JlYXRlU3RkZXJyLCBjcmVhdGVEdW1teVN0ZG91dCB9IGZyb20gJy4uL2xpYnJhcnknOyAvLyBAdnVlL2NvbXBvbmVudAoKZXhwb3J0IGRlZmF1bHQgewogIHByb3ZpZGU6IGZ1bmN0aW9uIHByb3ZpZGUoKSB7CiAgICByZXR1cm4gewogICAgICB0ZXJtaW5hdGU6IHRoaXMudGVybWluYXRlCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgLy8gSGFuZGxlcyB0aGUgY29tbWFuZAogICAgaGFuZGxlOiBmdW5jdGlvbiBoYW5kbGUoc3RkaW4pIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBwcm9ncmFtOwogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAvLyBGaXJzdCB0b2tlbiBpcyBwcm9ncmFtCiAgICAgICAgICAgICAgICBwcm9ncmFtID0gc3RkaW4udHJpbSgpLnNwbGl0KCcgJylbMF07IC8vIENoZWNrIGlmIGNvbW1hbmQgaXMgcmVndWxhciBjb21tYW5kCgogICAgICAgICAgICAgICAgaWYgKCEodHlwZW9mIF90aGlzLmNvbW1hbmRzW3Byb2dyYW1dID09PSAnZnVuY3Rpb24nKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKF90aGlzLmV4ZWN1dGUoc3RkaW4pKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIGlmICghKHR5cGVvZiBfdGhpcy5idWlsdEluID09PSAnZnVuY3Rpb24nKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gOTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDg7CiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKF90aGlzLmJ1aWx0SW4oc3RkaW4sIF90aGlzKSk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICAvLyBDb21tYW5kIG11c3QgYmUgZW1wdHkgb3IgY2FuJ3QgYmUgZm91bmQKICAgICAgICAgICAgICAgIF90aGlzLmNvbW1hbmROb3RGb3VuZChzdGRpbik7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8gRXhlY3V0ZXMgYSByZWd1bGFyIGNvbW1hbmQKICAgIGV4ZWN1dGU6IGZ1bmN0aW9uIGV4ZWN1dGUoc3RkaW4pIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIHByb2dyYW0sIGNvbXBvbmVudCwgdG9rZW5zLCB0b2tlblBhaXJzLCB0b2tlblBhaXJzRXhwcmVzc2lvbiwgYWNjb21tb2RhdGVkVG9rZW5zLCBpc05leHRUb2tlbk9wdGlvblZhbHVlLCBwYXJzZWQsIGV4ZWN1dGVkLCBoaXN0b3J5OwogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgLy8gUmVtb3ZlIGxlYWRpbmcgYW5kIHRyYWlsaW5nIHdoaXRlc3BhY2UKICAgICAgICAgICAgICAgIHN0ZGluID0gc3RkaW4udHJpbSgpOwogICAgICAgICAgICAgICAgcHJvZ3JhbSA9IGdldE9wdHMoc3RkaW4uc3BsaXQoJyAnKSwgX3RoaXMyLnBhcnNlck9wdGlvbnMpLl9bMF07IC8vIENyZWF0ZSBlbXB0eSBjb21wb25lbnQgaW4gY2FzZSBubyBwcm9ncmFtIGhhcyBiZWVuIGZvdW5kCgogICAgICAgICAgICAgICAgY29tcG9uZW50ID0gY3JlYXRlRHVtbXlTdGRvdXQoKTsgLy8gU3BsaXQgU3RkaW4gaW50byBjaHVua3MgdG8gcGFyc2UgaXQgY29ycmVjdGx5LgogICAgICAgICAgICAgICAgLy8gU2VlOiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMTg2NDc3NzYgYW5kIHNlZTogaHR0cHM6Ly9naXRodWIuY29tL25kYWJBUC92dWUtY29tbWFuZC9pc3N1ZXMvMTc2CiAgICAgICAgICAgICAgICAvLyBDb250YWlucyB0aGUgdG9rZW5zIHRvIG1lcmdlIG9wdGlvbi12YWx1ZSBwYWlycwoKICAgICAgICAgICAgICAgIHRva2VucyA9IFtdOyAvLyBDb250YWlucyB0aGUgY3VycmVudCB0b2tlbiBwYWlyIGZvciBlYWNoIGl0ZXJhdGlvbgoKICAgICAgICAgICAgICAgIHRva2VuUGFpcnMgPSBbXTsKICAgICAgICAgICAgICAgIHRva2VuUGFpcnNFeHByZXNzaW9uID0gL1teXHMiXSt8IihbXiJdKikiL2dpOyAvLyBJdGVyYXRlIHRocm91Z2ggYWxsIHRva2VucwoKICAgICAgICAgICAgICAgIGRvIHsKICAgICAgICAgICAgICAgICAgdG9rZW5QYWlycyA9IHRva2VuUGFpcnNFeHByZXNzaW9uLmV4ZWMoc3RkaW4pOwoKICAgICAgICAgICAgICAgICAgaWYgKHRva2VuUGFpcnMgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgIHRva2Vucy5wdXNoKHRva2VuUGFpcnNbMV0gPyB0b2tlblBhaXJzWzFdIDogdG9rZW5QYWlyc1swXSk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gd2hpbGUgKHRva2VuUGFpcnMgIT0gbnVsbCk7IC8vIENvbnRhaW5zIGFjY29tbW9kYXRlZCB0b2tlbnMgdG8gcGFyc2UKCgogICAgICAgICAgICAgICAgYWNjb21tb2RhdGVkVG9rZW5zID0gW107CiAgICAgICAgICAgICAgICBpc05leHRUb2tlbk9wdGlvblZhbHVlID0gZmFsc2U7CiAgICAgICAgICAgICAgICB0b2tlbnMuZm9yRWFjaChmdW5jdGlvbiAodG9rZW4sIGluZGV4KSB7CiAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIG5leHQgdG9rZW4gaXMgb3B0aW9uIHZhbHVlCiAgICAgICAgICAgICAgICAgIGlmIChpc05leHRUb2tlbk9wdGlvblZhbHVlKSB7CiAgICAgICAgICAgICAgICAgICAgaXNOZXh0VG9rZW5PcHRpb25WYWx1ZSA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgfSAvLyBDaGVjayBpZiBvcHRpb24gaGFzIHZhbHVlIGFzc2lnbmVkCgoKICAgICAgICAgICAgICAgICAgaWYgKHRva2VuLmVuZHNXaXRoKCc9JykpIHsKICAgICAgICAgICAgICAgICAgICAvLyBNZXJnZSBvcHRpb24gd2l0aCB2YWx1ZQogICAgICAgICAgICAgICAgICAgIGFjY29tbW9kYXRlZFRva2Vucy5wdXNoKHRva2VuICsgdG9rZW5zW2luZGV4ICsgMV0pOwogICAgICAgICAgICAgICAgICAgIGlzTmV4dFRva2VuT3B0aW9uVmFsdWUgPSB0cnVlOwogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIC8vIFRva2VuIGlzIG5vdCBwYXJ0IG9mIG9wdGlvbi12YWx1ZSBwYWlyCiAgICAgICAgICAgICAgICAgICAgYWNjb21tb2RhdGVkVG9rZW5zLnB1c2godG9rZW4pOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHBhcnNlZCA9IGdldE9wdHMoYWNjb21tb2RhdGVkVG9rZW5zLCBfdGhpczIucGFyc2VyT3B0aW9ucyk7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEzOwogICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShfdGhpczIuY29tbWFuZHNbcHJvZ3JhbV0ocGFyc2VkKSk7CgogICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgICBjb21wb25lbnQgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIGNvbXBvbmVudCA9IF90aGlzMi5zZXR1cENvbXBvbmVudChjb21wb25lbnQsIF90aGlzMi5sb2NhbC5oaXN0b3J5Lmxlbmd0aCwgcGFyc2VkKTsgLy8gRGlzYWxsb3cgZW1wdHkgU3RkaW4gaW4gaGlzdG9yeQoKICAgICAgICAgICAgICAgIGlmIChzdGRpbiAhPT0gJycpIHsKICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIGR1cGxpY2F0ZSBjb21tYW5kcyB0byBwdXNoIHRvIGxhdGVzdCBlbnRyeQogICAgICAgICAgICAgICAgICBleGVjdXRlZCA9IG5ldyBTZXQoX3RoaXMyLmxvY2FsLmV4ZWN1dGVkKTsKICAgICAgICAgICAgICAgICAgZXhlY3V0ZWQuZGVsZXRlKHN0ZGluKTsKICAgICAgICAgICAgICAgICAgZXhlY3V0ZWQuYWRkKHN0ZGluKTsgLy8gTXV0YXRlIHByb3BlcnR5CgogICAgICAgICAgICAgICAgICBfdGhpczIuJGVtaXQoJ3VwZGF0ZTpleGVjdXRlZCcsIGV4ZWN1dGVkKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMi5zZXRFeGVjdXRlZChleGVjdXRlZCk7CiAgICAgICAgICAgICAgICB9IC8vIFBvaW50IGhpc3RvcnkgdG8gbmV3IGNvbW1hbmQKCgogICAgICAgICAgICAgICAgX3RoaXMyLnNldFBvaW50ZXIoX3RoaXMyLmxvY2FsLmV4ZWN1dGVkLnNpemUpOwoKICAgICAgICAgICAgICAgIGhpc3RvcnkgPSBfdG9Db25zdW1hYmxlQXJyYXkoX3RoaXMyLmxvY2FsLmhpc3RvcnkpOwogICAgICAgICAgICAgICAgaGlzdG9yeS5wdXNoKGNvbXBvbmVudCk7IC8vIEVtaXQgY29tbWFuZCBleGVjdXRpbmcgc3RhcnRlZAoKICAgICAgICAgICAgICAgIF90aGlzMi5lbWl0RXhlY3V0ZSgpOyAvLyBUZWxsIHRlcm1pbmFsIHRoZXJlIGlzIGEgY29tbWFuZCBpbiBwcm9ncmVzcwoKCiAgICAgICAgICAgICAgICBfdGhpczIuc2V0SXNJblByb2dyZXNzKHRydWUpOwoKICAgICAgICAgICAgICAgIF90aGlzMi5zZXRIaXN0b3J5KGhpc3RvcnkpOyAvLyBVcGRhdGUgdGhlIGhpc3RvcnkgcHJvcGVydHkKCgogICAgICAgICAgICAgICAgX3RoaXMyLiRlbWl0KCd1cGRhdGU6aGlzdG9yeScsIF90b0NvbnN1bWFibGVBcnJheShoaXN0b3J5KSk7CgogICAgICAgICAgICAgIGNhc2UgMjM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyBDb21tYW5kIGlzIGVtcHR5IG9yIG5vdCBmb3VuZAogICAgY29tbWFuZE5vdEZvdW5kOiBmdW5jdGlvbiBjb21tYW5kTm90Rm91bmQoc3RkaW4pIHsKICAgICAgdmFyIGNvbXBvbmVudCA9IGNyZWF0ZUR1bW15U3Rkb3V0KCk7IC8vIE9ubHkgbm9uIGVtcHR5IGNvbW1hbmRzIHNob3VsZCBiZQoKICAgICAgaWYgKHN0ZGluICE9PSAnJykgewogICAgICAgIC8vIE5vIGNvbW1hbmQgZm91bmQKICAgICAgICBjb21wb25lbnQgPSBjcmVhdGVTdGRlcnIoIiIuY29uY2F0KHN0ZGluLCAiOiAiKS5jb25jYXQodGhpcy5ub3RGb3VuZCksIHRydWUpOwogICAgICAgIGNvbXBvbmVudCA9IHRoaXMuc2V0dXBDb21wb25lbnQoY29tcG9uZW50LCB0aGlzLmxvY2FsLmhpc3RvcnkubGVuZ3RoKTsgLy8gUmVtb3ZlIGR1cGxpY2F0ZSBjb21tYW5kcyB0byBwdXNoIHRvIGxhdGVzdCBlbnRyeQoKICAgICAgICB2YXIgZXhlY3V0ZWQgPSBuZXcgU2V0KHRoaXMubG9jYWwuZXhlY3V0ZWQpOwogICAgICAgIGV4ZWN1dGVkLmRlbGV0ZShzdGRpbik7CiAgICAgICAgZXhlY3V0ZWQuYWRkKHN0ZGluKTsgLy8gTXV0YXRlIHByb3BlcnR5CgogICAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZTpleGVjdXRlZCcsIGV4ZWN1dGVkKTsKICAgICAgICB0aGlzLnNldEV4ZWN1dGVkKGV4ZWN1dGVkKTsgLy8gUG9pbnQgaGlzdG9yeSB0byBuZXcgY29tbWFuZAoKICAgICAgICB0aGlzLnNldFBvaW50ZXIodGhpcy5sb2NhbC5leGVjdXRlZC5zaXplKTsKICAgICAgfQoKICAgICAgdmFyIGhpc3RvcnkgPSBfdG9Db25zdW1hYmxlQXJyYXkodGhpcy5sb2NhbC5oaXN0b3J5KTsKCiAgICAgIGhpc3RvcnkucHVzaChjb21wb25lbnQpOyAvLyBFbWl0IGNvbW1hbmQgZXhlY3V0aW5nIHN0YXJ0ZWQKCiAgICAgIHRoaXMuZW1pdEV4ZWN1dGUoKTsgLy8gVGVsbCB0ZXJtaW5hbCB0aGVyZSBpcyBhIGNvbW1hbmQgaW4gcHJvZ3Jlc3MKCiAgICAgIHRoaXMuc2V0SXNJblByb2dyZXNzKHRydWUpOwogICAgICB0aGlzLnNldEhpc3RvcnkoaGlzdG9yeSk7IC8vIFVwZGF0ZSB0aGUgaGlzdG9yeSBwcm9wZXJ0eQoKICAgICAgdGhpcy4kZW1pdCgndXBkYXRlOmhpc3RvcnknLCBfdG9Db25zdW1hYmxlQXJyYXkoaGlzdG9yeSkpOwogICAgfSwKICAgIC8vIEFkZCBlbnZpcm9ubWVudCBhbmQgY29udGV4dCBhbmQgaW5zdGFudGx5IHRlcm1pbmF0ZQogICAgc2V0dXBDb21wb25lbnQ6IGZ1bmN0aW9uIHNldHVwQ29tcG9uZW50KGNvbXBvbmVudCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHZhciBlbnRyaWVzID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAwOwogICAgICB2YXIgcGFyc2VkID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTsKICAgICAgLy8gUHJldmVudCB0byB3b3JrIHdpdGggc2FtZSByZWZlcmVuY2UKICAgICAgY29tcG9uZW50ID0gX29iamVjdFNwcmVhZCh7fSwgY29tcG9uZW50KTsKCiAgICAgIGlmICghaGFzT3duUHJvcGVydHkuY2FsbChjb21wb25lbnQsICdjb21wdXRlZCcpKSB7CiAgICAgICAgY29tcG9uZW50LmNvbXB1dGVkID0ge307CiAgICAgIH0gLy8gQ3JlYXRlIGNvcGllcwoKCiAgICAgIHZhciBjdXJzb3IgPSB0aGlzLmxvY2FsLmN1cnNvcjsKICAgICAgdmFyIGV4ZWN1dGVkID0gbmV3IFNldCh0aGlzLmxvY2FsLmV4ZWN1dGVkKTsKCiAgICAgIHZhciBoaXN0b3J5ID0gX3RvQ29uc3VtYWJsZUFycmF5KHRoaXMubG9jYWwuaGlzdG9yeSk7CgogICAgICB2YXIgcG9pbnRlciA9IHRoaXMubG9jYWwucG9pbnRlcjsKICAgICAgdmFyIHN0ZGluID0gdGhpcy5sb2NhbC5zdGRpbjsKICAgICAgY29tcG9uZW50LmNvbXB1dGVkID0gX29iamVjdFNwcmVhZCh7CiAgICAgICAgZW52aXJvbm1lbnQ6IGZ1bmN0aW9uIGVudmlyb25tZW50KCkgewogICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgaXNFeGVjdXRpbmc6IF90aGlzMy5sb2NhbC5pc0luUHJvZ3Jlc3MgJiYgX3RoaXMzLmxvY2FsLmhpc3RvcnkubGVuZ3RoIC0gMSA9PT0gZW50cmllcywKICAgICAgICAgICAgaXNGdWxsc2NyZWVuOiBfdGhpczMubG9jYWwuaXNGdWxsc2NyZWVuLAogICAgICAgICAgICBpc0luUHJvZ3Jlc3M6IF90aGlzMy5sb2NhbC5pc0luUHJvZ3Jlc3MKICAgICAgICAgIH07CiAgICAgICAgfSwKICAgICAgICBjb250ZXh0OiBmdW5jdGlvbiBjb250ZXh0KCkgewogICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgY3Vyc29yOiBjdXJzb3IsCiAgICAgICAgICAgIGV4ZWN1dGVkOiBleGVjdXRlZCwKICAgICAgICAgICAgaGlzdG9yeTogaGlzdG9yeSwKICAgICAgICAgICAgcGFyc2VkOiBwYXJzZWQsCiAgICAgICAgICAgIHBvaW50ZXI6IHBvaW50ZXIsCiAgICAgICAgICAgIHN0ZGluOiBzdGRpbgogICAgICAgICAgfTsKICAgICAgICB9CiAgICAgIH0sIGNvbXBvbmVudC5jb21wdXRlZCk7CiAgICAgIHJldHVybiBjb21wb25lbnQ7CiAgICB9LAogICAgLy8gRXhlY3V0ZXMgY29tbW9uIGZpbmFsIHRhc2tzIGFmdGVyIGNvbW1hbmQgaGFzIGJlZW4gZmluaXNoZWQKICAgIHRlcm1pbmF0ZTogZnVuY3Rpb24gdGVybWluYXRlKCkgewogICAgICAvLyBTZXQgbmV3IFN0ZGluIHRvIGVtcHR5CiAgICAgIHRoaXMuc2V0U3RkaW4oJycpOyAvLyBFeGl0IGZ1bGxzY3JlZW4gaWYgbmVjZXNzYXJ5CgogICAgICB0aGlzLnNldElzRnVsbHNjcmVlbihmYWxzZSk7IC8vIEluZGljYXRlIGVuZCBvZiBjb21tYW5kCgogICAgICB0aGlzLiRlbWl0KCdleGVjdXRlZCcpOyAvLyBBbGxvdyBuZXcgU3RkaW4KCiAgICAgIHRoaXMuc2V0SXNJblByb2dyZXNzKGZhbHNlKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["/home/sjd/Desktop/vue-command/src/mixins/handle.js"],"names":["getOpts","createStderr","createDummyStdout","provide","terminate","methods","handle","stdin","program","trim","split","commands","Promise","resolve","execute","builtIn","commandNotFound","parserOptions","_","component","tokens","tokenPairs","tokenPairsExpression","exec","push","accommodatedTokens","isNextTokenOptionValue","forEach","token","index","endsWith","parsed","setupComponent","local","history","length","executed","Set","delete","add","$emit","setExecuted","setPointer","size","emitExecute","setIsInProgress","setHistory","notFound","entries","hasOwnProperty","call","computed","cursor","pointer","environment","isExecuting","isInProgress","isFullscreen","context","setStdin","setIsFullscreen"],"mappings":"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","sourcesContent":["import getOpts from 'getopts'\n\nimport { createStderr, createDummyStdout } from '../library'\n\n// @vue/component\nexport default {\n  provide () {\n    return {\n      terminate: this.terminate\n    }\n  },\n\n  methods: {\n    // Handles the command\n    async handle (stdin) {\n      // First token is program\n      const program = stdin.trim().split(' ')[0]\n\n      // Check if command is regular command\n      if (typeof this.commands[program] === 'function') {\n        // Check if command is regular command\n        await Promise.resolve(this.execute(stdin))\n\n        return\n      }\n\n      // Check if command might be built-in\n      if (typeof this.builtIn === 'function') {\n        await Promise.resolve(this.builtIn(stdin, this))\n\n        // The built in function must take care of all other steps\n        return\n      }\n\n      // Command must be empty or can't be found\n      this.commandNotFound(stdin)\n    },\n\n    // Executes a regular command\n    async execute (stdin) {\n      // Remove leading and trailing whitespace\n      stdin = stdin.trim()\n\n      const program = getOpts(stdin.split(' '), this.parserOptions)._[0]\n      // Create empty component in case no program has been found\n      let component = createDummyStdout()\n\n      // Split Stdin into chunks to parse it correctly.\n      // See: https://stackoverflow.com/a/18647776 and see: https://github.com/ndabAP/vue-command/issues/176\n      // Contains the tokens to merge option-value pairs\n      const tokens = []\n      // Contains the current token pair for each iteration\n      let tokenPairs = []\n      const tokenPairsExpression = /[^\\s\"]+|\"([^\"]*)\"/gi\n      // Iterate through all tokens\n      do {\n        tokenPairs = tokenPairsExpression.exec(stdin)\n\n        if (tokenPairs != null) {\n          tokens.push(tokenPairs[1] ? tokenPairs[1] : tokenPairs[0])\n        }\n      } while (tokenPairs != null)\n\n      // Contains accommodated tokens to parse\n      const accommodatedTokens = []\n      let isNextTokenOptionValue = false\n      tokens.forEach((token, index) => {\n        // Check if next token is option value\n        if (isNextTokenOptionValue) {\n          isNextTokenOptionValue = false\n\n          return\n        }\n\n        // Check if option has value assigned\n        if (token.endsWith('=')) {\n          // Merge option with value\n          accommodatedTokens.push(token + tokens[index + 1])\n\n          isNextTokenOptionValue = true\n        } else {\n          // Token is not part of option-value pair\n          accommodatedTokens.push(token)\n        }\n      })\n\n      const parsed = getOpts(accommodatedTokens, this.parserOptions)\n\n      component = await Promise.resolve(this.commands[program](parsed))\n      component = this.setupComponent(component, this.local.history.length, parsed)\n\n      // Disallow empty Stdin in history\n      if (stdin !== '') {\n        // Remove duplicate commands to push to latest entry\n        const executed = new Set(this.local.executed)\n        executed.delete(stdin)\n        executed.add(stdin)\n\n        // Mutate property\n        this.$emit('update:executed', executed)\n        this.setExecuted(executed)\n      }\n\n      // Point history to new command\n      this.setPointer(this.local.executed.size)\n\n      const history = [...this.local.history]\n      history.push(component)\n\n      // Emit command executing started\n      this.emitExecute()\n      // Tell terminal there is a command in progress\n      this.setIsInProgress(true)\n\n      this.setHistory(history)\n      // Update the history property\n      this.$emit('update:history', [...history])\n    },\n\n    // Command is empty or not found\n    commandNotFound (stdin) {\n      let component = createDummyStdout()\n      // Only non empty commands should be\n      if (stdin !== '') {\n        // No command found\n        component = createStderr(`${stdin}: ${this.notFound}`, true)\n        component = this.setupComponent(component, this.local.history.length)\n\n        // Remove duplicate commands to push to latest entry\n        const executed = new Set(this.local.executed)\n        executed.delete(stdin)\n        executed.add(stdin)\n\n        // Mutate property\n        this.$emit('update:executed', executed)\n        this.setExecuted(executed)\n\n        // Point history to new command\n        this.setPointer(this.local.executed.size)\n      }\n\n      const history = [...this.local.history]\n      history.push(component)\n\n      // Emit command executing started\n      this.emitExecute()\n      // Tell terminal there is a command in progress\n      this.setIsInProgress(true)\n\n      this.setHistory(history)\n      // Update the history property\n      this.$emit('update:history', [...history])\n    },\n\n    // Add environment and context and instantly terminate\n    setupComponent (component, entries = 0, parsed = {}) {\n      // Prevent to work with same reference\n      component = { ...component }\n\n      if (!hasOwnProperty.call(component, 'computed')) {\n        component.computed = {}\n      }\n      // Create copies\n      const cursor = this.local.cursor\n      const executed = new Set(this.local.executed)\n      const history = [...this.local.history]\n      const pointer = this.local.pointer\n      const stdin = this.local.stdin\n      component.computed = {\n        environment: () => ({\n          isExecuting: this.local.isInProgress && (this.local.history.length - 1 === entries),\n          isFullscreen: this.local.isFullscreen,\n          isInProgress: this.local.isInProgress\n        }),\n\n        context: () => ({\n          cursor,\n          executed,\n          history,\n          parsed,\n          pointer,\n          stdin\n        }),\n\n        ...component.computed\n      }\n\n      return component\n    },\n\n    // Executes common final tasks after command has been finished\n    terminate () {\n      // Set new Stdin to empty\n      this.setStdin('')\n      // Exit fullscreen if necessary\n      this.setIsFullscreen(false)\n      // Indicate end of command\n      this.$emit('executed')\n      // Allow new Stdin\n      this.setIsInProgress(false)\n    }\n  }\n}\n"]}]}