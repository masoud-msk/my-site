{"remainingRequest":"/home/sjd/Desktop/my-site/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/sjd/Desktop/my-site/src/components/VueCommand.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/sjd/Desktop/my-site/src/components/VueCommand.vue","mtime":1599009873983},{"path":"/home/sjd/Desktop/my-site/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/sjd/Desktop/my-site/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/sjd/Desktop/my-site/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBWdWUgZnJvbSAndnVlJwoKaW1wb3J0IFNlYXJjaCBmcm9tICcuL1NlYXJjaCcKaW1wb3J0IFN0ZGluIGZyb20gJy4vU3RkaW4nCmltcG9ydCBTdGRvdXQgZnJvbSAnLi9TdGRvdXQnCmltcG9ydCBBdXRvY29tcGxldGVNaXhpbiBmcm9tICcuLi9taXhpbnMvYXV0b2NvbXBsZXRlJwppbXBvcnQgSGFuZGxlTWl4aW4gZnJvbSAnLi4vbWl4aW5zL2hhbmRsZScKaW1wb3J0IEhpc3RvcnlNaXhpbiBmcm9tICcuLi9taXhpbnMvaGlzdG9yeScKaW1wb3J0IFNlYXJjaE1peGluIGZyb20gJy4uL21peGlucy9zZWFyY2gnCmltcG9ydCBVSU1peGluIGZyb20gJy4uL21peGlucy91aScKaW1wb3J0IHsgRVZFTlRfTElTVEVORVJTIH0gZnJvbSAnLi8uLi9saWJyYXJ5JwoKLy8gRXZlbnQgYnVzIGZvciBjb21tdW5pY2F0aW9uCmNvbnN0IEV2ZW50QnVzID0gbmV3IFZ1ZSgpCgpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogeyBTZWFyY2gsIFN0ZGluLCBTdGRvdXQgfSwKCiAgbWl4aW5zOiBbQXV0b2NvbXBsZXRlTWl4aW4sIEhhbmRsZU1peGluLCBIaXN0b3J5TWl4aW4sIFNlYXJjaE1peGluLCBVSU1peGluXSwKCiAgcHJvdmlkZSAoKSB7CiAgICByZXR1cm4gewogICAgICBlbWl0RXhlY3V0ZTogdGhpcy5lbWl0RXhlY3V0ZSwKICAgICAgZW1pdEV4ZWN1dGVkOiB0aGlzLmVtaXRFeGVjdXRlZCwKICAgICAgZW1pdElucHV0OiB0aGlzLmVtaXRJbnB1dCwKICAgICAgc2V0U3RkaW46IHRoaXMuc2V0U3RkaW4KICAgIH0KICB9LAoKICBwcm9wczogewogICAgYXV0b2NvbXBsZXRpb25SZXNvbHZlcjogewogICAgICBkZWZhdWx0OiB1bmRlZmluZWQsCiAgICAgIHR5cGU6IEZ1bmN0aW9uCiAgICB9LAoKICAgIGJ1aWx0SW46IHsKICAgICAgZGVmYXVsdDogdW5kZWZpbmVkLAogICAgICB0eXBlOiBGdW5jdGlvbgogICAgfSwKCiAgICBjb21tYW5kczogewogICAgICBkZWZhdWx0OiAoKSA9PiAoe30pLAogICAgICB0eXBlOiBPYmplY3QKICAgIH0sCgogICAgY3Vyc29yOiB7CiAgICAgIGRlZmF1bHQ6IDAsCiAgICAgIHR5cGU6IE51bWJlcgogICAgfSwKCiAgICAvLyBEZWZhdWx0IGV2ZW50IGxpc3RlbmVycwogICAgZXZlbnRMaXN0ZW5lcnM6IHsKICAgICAgZGVmYXVsdDogKCkgPT4gWwogICAgICAgIEVWRU5UX0xJU1RFTkVSUy5hdXRvY29tcGxldGUsCiAgICAgICAgRVZFTlRfTElTVEVORVJTLmhpc3RvcnksCiAgICAgICAgRVZFTlRfTElTVEVORVJTLnNlYXJjaAogICAgICBdLAoKICAgICAgdHlwZTogQXJyYXkKICAgIH0sCgogICAgLy8gTm9uLWVtcHR5IGV4ZWN1dGVkIGNvbW1hbmRzCiAgICBleGVjdXRlZDogewogICAgICBkZWZhdWx0OiAoKSA9PiBuZXcgU2V0KCksCiAgICAgIHR5cGU6IFNldAogICAgfSwKCiAgICBoZWxwVGltZW91dDogewogICAgICBkZWZhdWx0OiA0MDAwLAogICAgICB0eXBlOiBOdW1iZXIKICAgIH0sCgogICAgaGlkZUJhcjogewogICAgICBkZWZhdWx0OiBmYWxzZSwKICAgICAgdHlwZTogQm9vbGVhbgogICAgfSwKCiAgICBoaWRlUHJvbXB0OiB7CiAgICAgIGRlZmF1bHQ6IGZhbHNlLAogICAgICB0eXBlOiBCb29sZWFuCiAgICB9LAoKICAgIGhpZGVUaXRsZTogewogICAgICBkZWZhdWx0OiBmYWxzZSwKICAgICAgdHlwZTogQm9vbGVhbgogICAgfSwKCiAgICBoZWxwVGV4dDogewogICAgICBkZWZhdWx0OiAnVHlwZSBoZWxwJywKICAgICAgdHlwZTogU3RyaW5nCiAgICB9LAoKICAgIC8vIEFsbCBleGVjdXRlZCBjb21tYW5kcwogICAgaGlzdG9yeTogewogICAgICBkZWZhdWx0OiAoKSA9PiBbXSwKICAgICAgdHlwZTogQXJyYXkKICAgIH0sCgogICAgaW50cm86IHsKICAgICAgZGVmYXVsdDogJ0Zhc3RlbiB5b3VyIHNlYXRiZWx0cyEnLAogICAgICB0eXBlOiBTdHJpbmcKICAgIH0sCgogICAgaXNGdWxsc2NyZWVuOiB7CiAgICAgIGRlZmF1bHQ6IGZhbHNlLAogICAgICB0eXBlOiBCb29sZWFuCiAgICB9LAoKICAgIGlzSW5Qcm9ncmVzczogewogICAgICBkZWZhdWx0OiBmYWxzZSwKICAgICAgdHlwZTogQm9vbGVhbgogICAgfSwKCiAgICBub3RGb3VuZDogewogICAgICBkZWZhdWx0OiAnY29tbWFuZCBub3QgZm91bmQnLAogICAgICB0eXBlOiBTdHJpbmcKICAgIH0sCgogICAgLy8gT3B0aW9ucyB3aGVuIHBhcnNpbmcgU3RkaW4KICAgIHBhcnNlck9wdGlvbnM6IHsKICAgICAgZGVmYXVsdDogKCkgPT4gKHt9KSwKICAgICAgdHlwZTogT2JqZWN0CiAgICB9LAoKICAgIC8vIEhpc3RvcnkgY29tbWFuZCBwb2ludGVyCiAgICBwb2ludGVyOiB7CiAgICAgIGRlZmF1bHQ6IDAsCiAgICAgIHR5cGU6IE51bWJlcgogICAgfSwKCiAgICBwcm9tcHQ6IHsKICAgICAgZGVmYXVsdDogJ3NqZEBxdWFudHVtOn4nLAogICAgICB0eXBlOiBTdHJpbmcKICAgIH0sCgogICAgc2hvd0hlbHA6IHsKICAgICAgZGVmYXVsdDogZmFsc2UsCiAgICAgIHR5cGU6IEJvb2xlYW4KICAgIH0sCgogICAgc2hvd0ludHJvOiB7CiAgICAgIGRlZmF1bHQ6IGZhbHNlLAogICAgICB0eXBlOiBCb29sZWFuCiAgICB9LAoKICAgIC8vIEN1cnJlbnQgU3RkaW4KICAgIHN0ZGluOiB7CiAgICAgIGRlZmF1bHQ6ICcnLAogICAgICB0eXBlOiBTdHJpbmcKICAgIH0sCgogICAgdGl0bGU6IHsKICAgICAgZGVmYXVsdDogJ3NqZEBxdWFudHVtOn4nLAogICAgICB0eXBlOiBTdHJpbmcKICAgIH0KICB9LAoKICBkYXRhOiAoKSA9PiAoewogICAgLy8gQnVzIGZvciBjb21tdW5pY2F0aW9uCiAgICBidXM6IEV2ZW50QnVzLAoKICAgIC8vIEEgbG9jYWwgY29weSB0byBhbGxvdyB0aGUgYWJzZW5jZSBvZiBwcm9wZXJ0aWVzCiAgICBsb2NhbDogewogICAgICAvLyBDdXJyZW50IFN0ZGluCiAgICAgIHN0ZGluOiAnJwogICAgfSwKCiAgICAvLyBEZXRlY3Qgc2Nyb2xsIGFuZCByZXNpemUgZXZlbnRzCiAgICBzY3JvbGw6IHsKICAgICAgZXZlbnRMaXN0ZW5lcjogdW5kZWZpbmVkLAogICAgICAvLyBEZXRlcm1pbmF0ZXMgaWYgc2NvbGxlZCB0byBib3R0b20KICAgICAgaXNCb3R0b206IHRydWUsCiAgICAgIHJlc2l6ZU9ic2VydmVyOiB1bmRlZmluZWQKICAgIH0KICB9KSwKCiAgd2F0Y2g6IHsKICAgIHN0ZGluICgpIHsKICAgICAgdGhpcy5zZXRTdGRpbih0aGlzLnN0ZGluKQogICAgfSwKCiAgICAnbG9jYWwuc3RkaW4nICgpIHsKICAgICAgLy8gRW1pdCB0aGUgY3VycmVudCBTdGRpbiBhcyBhbiBldmVudAogICAgICB0aGlzLiRlbWl0KCdpbnB1dCcsIHRoaXMubG9jYWwuc3RkaW4pCgogICAgICAvLyBVcGRhdGUgZ2l2ZW4gcHJvcGVydHkKICAgICAgdGhpcy4kZW1pdCgndXBkYXRlOnN0ZGluJywgdGhpcy5sb2NhbC5zdGRpbikKCiAgICAgIC8vIE1ha2Ugc2VhcmNoaW5nIGhpc3Rvcnkgd29yayBhZ2FpbgogICAgICBpZiAodGhpcy5sb2NhbC5zdGRpbiA9PT0gJycpIHsKICAgICAgICB0aGlzLnNldFBvaW50ZXIodGhpcy5sb2NhbC5leGVjdXRlZC5zaXplKQogICAgICB9CiAgICB9CiAgfSwKCiAgbW91bnRlZCAoKSB7CiAgICAvLyBTY3JvbGwgdG8gYm90dG9tIGlmIFN0ZG91dCBtdXRhdGVzIHRlcm1pbmFsIGhlaWdodAogICAgdGhpcy5zY3JvbGwucmVzaXplT2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIoYXN5bmMgKGV2ZW50KSA9PiB7CiAgICAgIGF3YWl0IHRoaXMuJG5leHRUaWNrKCkKCiAgICAgIC8vIE9ubHkgc2Nyb2xsIHRvIGJvdHRvbSBpZiBpdCB3YXMgc2Nyb2xsZWQgdG8gYm90dG9tIGJlZm9yZQogICAgICBpZiAodGhpcy5zY3JvbGwuaXNCb3R0b20pIHsKICAgICAgICB0aGlzLiRyZWZzWyd0ZXJtLXN0ZCddLnNjcm9sbFRvcCA9IHRoaXMuJHJlZnNbJ3Rlcm0tc3RkJ10uc2Nyb2xsSGVpZ2h0CiAgICAgIH0KICAgIH0pCgogICAgdGhpcy5zY3JvbGwucmVzaXplT2JzZXJ2ZXIub2JzZXJ2ZSh0aGlzLiRyZWZzWyd0ZXJtLWNvbnQnXSkKCiAgICAvLyBDaGVjayBpZiBzY3JvbGxlZCB0byBib3R0b20KICAgIHRoaXMuc2Nyb2xsLmV2ZW50TGlzdGVuZXIgPSAoKSA9PiB7CiAgICAgIGNvbnN0IHRlcm1pbmFsID0gdGhpcy4kcmVmc1sndGVybS1zdGQnXQogICAgICB0aGlzLnNjcm9sbC5pc0JvdHRvbSA9CiAgICAgICAgdGVybWluYWwuc2Nyb2xsSGVpZ2h0IC0gdGVybWluYWwuc2Nyb2xsVG9wIC0gdGVybWluYWwuY2xpZW50SGVpZ2h0ID09PQogICAgICAgIDAKICAgIH0KCiAgICB0aGlzLiRyZWZzWyd0ZXJtLXN0ZCddLmFkZEV2ZW50TGlzdGVuZXIoCiAgICAgICdzY3JvbGwnLAogICAgICB0aGlzLnNjcm9sbC5ldmVudExpc3RlbmVyCiAgICApCgogICAgLy8gQmluZCBnaXZlbiBldmVudCBsaXN0ZW5lcnMKICAgIHRoaXMuZXZlbnRMaXN0ZW5lcnMuZm9yRWFjaCgoZXZlbnRMaXN0ZW5lcikgPT4gZXZlbnRMaXN0ZW5lcih0aGlzKSkKICB9LAoKICBjcmVhdGVkICgpIHsKICAgIC8vIE9ic2VydmUgImV4ZWN1dGVkIiBjaGFuZ2VzIHNpbmNlIFZ1ZS5qcyBjYW4ndCB3YXRjaCBhICJTZXQiLiBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9uZGFiQVAvdnVlLWNvbW1hbmQvaXNzdWVzLzE1MQogICAgdGhpcy5leGVjdXRlZC5hZGQgPSBmdW5jdGlvbiAoLi4ueCkgewogICAgICB0aGlzLmxvY2FsLmV4ZWN1dGVkLmFkZCguLi54KQoKICAgICAgT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpLmFkZC5jYWxsKHRoaXMsIC4uLngpCiAgICB9CiAgICB0aGlzLmV4ZWN1dGVkLmNsZWFyID0gZnVuY3Rpb24gKCkgewogICAgICB0aGlzLmxvY2FsLmV4ZWN1dGVkLmNsZWFyKCkKCiAgICAgIE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKS5hZGQuY2FsbCh0aGlzKQogICAgfQogICAgdGhpcy5leGVjdXRlZC5kZWxldGUgPSBmdW5jdGlvbiAoLi4ueCkgewogICAgICB0aGlzLmxvY2FsLmV4ZWN1dGVkLmRlbGV0ZSguLi54KQoKICAgICAgT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpLmRlbGV0ZS5jYWxsKHRoaXMsIC4uLngpCiAgICB9CgogICAgLy8gQXBwbHkgdXNlciBnaXZlbiBwcm9wZXJ0aWVzCiAgICB0aGlzLnNldEN1cnNvcih0aGlzLmN1cnNvcikKICAgIHRoaXMuc2V0UG9pbnRlcih0aGlzLnBvaW50ZXIpCiAgICB0aGlzLnNldFN0ZGluKHRoaXMuc3RkaW4pCiAgICB0aGlzLnNldElzSW5Qcm9ncmVzcyh0aGlzLmlzSW5Qcm9ncmVzcykKICAgIHRoaXMuc2V0SXNGdWxsc2NyZWVuKHRoaXMuaXNGdWxsc2NyZWVuKQoKICAgIGNvbnN0IGhpc3RvcnkgPSBbLi4udGhpcy5oaXN0b3J5XQogICAgLy8gSWYgdGhlcmUgaXMgbm8gZW50cnkgcHVzaCBkdW1teSBTdGRvdXQgdG8gc2hvdyBTdGRpbgogICAgaWYgKGhpc3RvcnkubGVuZ3RoID09PSAwKSB7CiAgICAgIC8vIFB1c2ggZHVtbXkgU3Rkb3V0IHdpdGhvdXQgdGVybWluYXRpb24KICAgICAgaGlzdG9yeS5wdXNoKHsKICAgICAgICBuYW1lOiAnVnVlQ29tbWFuZER1bW15U3Rkb3V0JywKICAgICAgICByZW5kZXI6IChjcmVhdGVFbGVtZW50KSA9PiBjcmVhdGVFbGVtZW50KCdzcGFuJywge30sICcnKQogICAgICB9KQoKICAgICAgLy8gVXBkYXRlIHRoZSBoaXN0b3J5IHByb3BlcnR5CiAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZTpoaXN0b3J5JywgWy4uLmhpc3RvcnldKQogICAgfQoKICAgIHRoaXMuc2V0SGlzdG9yeShbLi4uaGlzdG9yeV0pCiAgfSwKCiAgbWV0aG9kczogewogICAgZW1pdElucHV0IChpbnB1dCkgewogICAgICB0aGlzLiRlbWl0KCdpbnB1dCcsIGlucHV0KQogICAgfSwKCiAgICBlbWl0RXhlY3V0ZSAoKSB7CiAgICAgIHRoaXMuJGVtaXQoJ2V4ZWN1dGUnKQogICAgfSwKCiAgICBlbWl0RXhlY3V0ZWQgKCkgewogICAgICB0aGlzLiRlbWl0KCdleGVjdXRlZCcpCiAgICB9LAoKICAgIC8vIEZvY3VzIG9uIGxhc3QgU3RkaW4gb3Igc2VhcmNoCiAgICBmb2N1cyAoKSB7CiAgICAgIC8vIENoZWNrIGlmIHNlYXJjaCBtb2RlCiAgICAgIGlmICh0aGlzLmlzU2VhcmNoKSB7CiAgICAgICAgdGhpcy4kcmVmcy5zZWFyY2guZm9jdXMoKQoKICAgICAgICByZXR1cm4KICAgICAgfQoKICAgICAgLy8gTGF0ZXN0IFN0ZGluIGlzIGxhdGVzdCBoaXN0b3J5IGVudHJ5CiAgICAgIGNvbnN0IHN0ZGluID0gdGhpcy4kcmVmcy5zdGRpblt0aGlzLmxvY2FsLmhpc3RvcnkubGVuZ3RoIC0gMV0KICAgICAgLy8gQ2FsbCBjb21wb25lbnQgbWV0aG9kCiAgICAgIHN0ZGluLmZvY3VzKCkKICAgIH0sCgogICAgc2V0U3RkaW4gKHN0ZGluKSB7CiAgICAgIHRoaXMubG9jYWwuc3RkaW4gPSBzdGRpbgogICAgfQogIH0KfQo="},{"version":3,"sources":["VueCommand.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8EA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"VueCommand.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div\n    ref=\"vue-command\"\n    class=\"vue-command\">\n    <slot name=\"bar\">\n      <div\n        v-if=\"!hideBar\"\n        class=\"term-bar\">\n        <span\n          v-if=\"!hideTitle\"\n          class=\"term-title\">{{ title }}</span>\n      </div>\n    </slot>\n\n    <div\n      ref=\"term-std\"\n      class=\"term-std\">\n      <search\n        v-if=\"isSearch\"\n        ref=\"search\"\n        :executed=\"local.executed\"\n        :is-search.sync=\"isSearch\"\n        :stdin=\"stdin\"\n        @click=\"focus\"\n        @handle=\"handle\"/>\n\n      <div\n        v-show=\"!isSearch\"\n        ref=\"term-cont\"\n        :class=\"{ 'term-cont-fullscreen': local.isFullscreen }\"\n        class=\"term-cont\"\n        @click=\"focus\">\n        <div v-if=\"showIntro\">{{ intro }}</div>\n\n        <div\n          v-for=\"(stdout, index) in local.history\"\n          :key=\"index\"\n          class=\"term-hist\"\n          :class=\"{\n            'term-hist-fullscreen':\n              local.isFullscreen && index === local.history.length - 1\n          }\">\n          <stdout\n            v-show=\"!local.isFullscreen || index === local.history.length - 1\"\n            :component=\"stdout\"\n            class=\"term-stdout\"/>\n\n          <stdin\n            v-show=\"\n              (index === 0 && !local.isFullscreen) ||\n                (!(index === local.history.length - 1 && local.isInProgress) &&\n                  !local.isFullscreen)\n            \"\n            ref=\"stdin\"\n            :bus=\"bus\"\n            :cursor=\"local.cursor\"\n            :hide-prompt=\"hidePrompt\"\n            :is-fullscreen=\"local.isFullscreen\"\n            :is-in-progress=\"local.isInProgress\"\n            :is-last=\"index === local.history.length - 1\"\n            :prompt=\"prompt\"\n            :help-text=\"helpText\"\n            :help-timeout=\"helpTimeout\"\n            :show-help=\"showHelp\"\n            :stdin.sync=\"local.stdin\"\n            :uid=\"_uid\"\n            @handle=\"handle\">\n            <template #prompt>\n              <slot name=\"prompt\" />\n            </template>\n          </stdin>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Vue from 'vue'\n\nimport Search from './Search'\nimport Stdin from './Stdin'\nimport Stdout from './Stdout'\nimport AutocompleteMixin from '../mixins/autocomplete'\nimport HandleMixin from '../mixins/handle'\nimport HistoryMixin from '../mixins/history'\nimport SearchMixin from '../mixins/search'\nimport UIMixin from '../mixins/ui'\nimport { EVENT_LISTENERS } from './../library'\n\n// Event bus for communication\nconst EventBus = new Vue()\n\nexport default {\n  components: { Search, Stdin, Stdout },\n\n  mixins: [AutocompleteMixin, HandleMixin, HistoryMixin, SearchMixin, UIMixin],\n\n  provide () {\n    return {\n      emitExecute: this.emitExecute,\n      emitExecuted: this.emitExecuted,\n      emitInput: this.emitInput,\n      setStdin: this.setStdin\n    }\n  },\n\n  props: {\n    autocompletionResolver: {\n      default: undefined,\n      type: Function\n    },\n\n    builtIn: {\n      default: undefined,\n      type: Function\n    },\n\n    commands: {\n      default: () => ({}),\n      type: Object\n    },\n\n    cursor: {\n      default: 0,\n      type: Number\n    },\n\n    // Default event listeners\n    eventListeners: {\n      default: () => [\n        EVENT_LISTENERS.autocomplete,\n        EVENT_LISTENERS.history,\n        EVENT_LISTENERS.search\n      ],\n\n      type: Array\n    },\n\n    // Non-empty executed commands\n    executed: {\n      default: () => new Set(),\n      type: Set\n    },\n\n    helpTimeout: {\n      default: 4000,\n      type: Number\n    },\n\n    hideBar: {\n      default: false,\n      type: Boolean\n    },\n\n    hidePrompt: {\n      default: false,\n      type: Boolean\n    },\n\n    hideTitle: {\n      default: false,\n      type: Boolean\n    },\n\n    helpText: {\n      default: 'Type help',\n      type: String\n    },\n\n    // All executed commands\n    history: {\n      default: () => [],\n      type: Array\n    },\n\n    intro: {\n      default: 'Fasten your seatbelts!',\n      type: String\n    },\n\n    isFullscreen: {\n      default: false,\n      type: Boolean\n    },\n\n    isInProgress: {\n      default: false,\n      type: Boolean\n    },\n\n    notFound: {\n      default: 'command not found',\n      type: String\n    },\n\n    // Options when parsing Stdin\n    parserOptions: {\n      default: () => ({}),\n      type: Object\n    },\n\n    // History command pointer\n    pointer: {\n      default: 0,\n      type: Number\n    },\n\n    prompt: {\n      default: 'sjd@quantum:~',\n      type: String\n    },\n\n    showHelp: {\n      default: false,\n      type: Boolean\n    },\n\n    showIntro: {\n      default: false,\n      type: Boolean\n    },\n\n    // Current Stdin\n    stdin: {\n      default: '',\n      type: String\n    },\n\n    title: {\n      default: 'sjd@quantum:~',\n      type: String\n    }\n  },\n\n  data: () => ({\n    // Bus for communication\n    bus: EventBus,\n\n    // A local copy to allow the absence of properties\n    local: {\n      // Current Stdin\n      stdin: ''\n    },\n\n    // Detect scroll and resize events\n    scroll: {\n      eventListener: undefined,\n      // Determinates if scolled to bottom\n      isBottom: true,\n      resizeObserver: undefined\n    }\n  }),\n\n  watch: {\n    stdin () {\n      this.setStdin(this.stdin)\n    },\n\n    'local.stdin' () {\n      // Emit the current Stdin as an event\n      this.$emit('input', this.local.stdin)\n\n      // Update given property\n      this.$emit('update:stdin', this.local.stdin)\n\n      // Make searching history work again\n      if (this.local.stdin === '') {\n        this.setPointer(this.local.executed.size)\n      }\n    }\n  },\n\n  mounted () {\n    // Scroll to bottom if Stdout mutates terminal height\n    this.scroll.resizeObserver = new ResizeObserver(async (event) => {\n      await this.$nextTick()\n\n      // Only scroll to bottom if it was scrolled to bottom before\n      if (this.scroll.isBottom) {\n        this.$refs['term-std'].scrollTop = this.$refs['term-std'].scrollHeight\n      }\n    })\n\n    this.scroll.resizeObserver.observe(this.$refs['term-cont'])\n\n    // Check if scrolled to bottom\n    this.scroll.eventListener = () => {\n      const terminal = this.$refs['term-std']\n      this.scroll.isBottom =\n        terminal.scrollHeight - terminal.scrollTop - terminal.clientHeight ===\n        0\n    }\n\n    this.$refs['term-std'].addEventListener(\n      'scroll',\n      this.scroll.eventListener\n    )\n\n    // Bind given event listeners\n    this.eventListeners.forEach((eventListener) => eventListener(this))\n  },\n\n  created () {\n    // Observe \"executed\" changes since Vue.js can't watch a \"Set\". See: https://github.com/ndabAP/vue-command/issues/151\n    this.executed.add = function (...x) {\n      this.local.executed.add(...x)\n\n      Object.getPrototypeOf(this).add.call(this, ...x)\n    }\n    this.executed.clear = function () {\n      this.local.executed.clear()\n\n      Object.getPrototypeOf(this).add.call(this)\n    }\n    this.executed.delete = function (...x) {\n      this.local.executed.delete(...x)\n\n      Object.getPrototypeOf(this).delete.call(this, ...x)\n    }\n\n    // Apply user given properties\n    this.setCursor(this.cursor)\n    this.setPointer(this.pointer)\n    this.setStdin(this.stdin)\n    this.setIsInProgress(this.isInProgress)\n    this.setIsFullscreen(this.isFullscreen)\n\n    const history = [...this.history]\n    // If there is no entry push dummy Stdout to show Stdin\n    if (history.length === 0) {\n      // Push dummy Stdout without termination\n      history.push({\n        name: 'VueCommandDummyStdout',\n        render: (createElement) => createElement('span', {}, '')\n      })\n\n      // Update the history property\n      this.$emit('update:history', [...history])\n    }\n\n    this.setHistory([...history])\n  },\n\n  methods: {\n    emitInput (input) {\n      this.$emit('input', input)\n    },\n\n    emitExecute () {\n      this.$emit('execute')\n    },\n\n    emitExecuted () {\n      this.$emit('executed')\n    },\n\n    // Focus on last Stdin or search\n    focus () {\n      // Check if search mode\n      if (this.isSearch) {\n        this.$refs.search.focus()\n\n        return\n      }\n\n      // Latest Stdin is latest history entry\n      const stdin = this.$refs.stdin[this.local.history.length - 1]\n      // Call component method\n      stdin.focus()\n    },\n\n    setStdin (stdin) {\n      this.local.stdin = stdin\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n@import \"../scss/mixins\";\n\n.vue-command {\n  overflow-y: auto;\n  overflow-x: hidden;\n\n  .term-bar {\n    background: #23262c;\n    border: 1px solid #191a1b;\n    display: block;\n    justify-content: center;\n    top: 0;\n    width: 100%;\n    display: flex;\n  }\n\n  .term-title {\n    font-family: \"Montserrat\", sans-serif;\n    font-size: 18px;\n    margin: 12px;\n    background: #23262c;\n    color: white;\n  }\n\n  .term-std {\n    background: #002b36;\n    display: block;\n    flex-direction: column;\n    width: 100%;\n\n    @extend .term-hist-container-fullscreen;\n  }\n\n  .term-cont {\n    font-family: \"Inconsolata\", monospace;\n    padding-right: 0.5rem;\n    padding-bottom: 0.5rem;\n    flex: 1;\n  }\n\n  .term-hist-container-fullscreen {\n    display: flex;\n    flex-direction: column;\n    flex: 1;\n    height: 100%;\n  }\n\n  .term-stdout {\n    word-break: break-all;\n    width: 100%;\n  }\n}\n</style>\n"]}]}