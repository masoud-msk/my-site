{"remainingRequest":"/home/sjd/Desktop/my-site/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/sjd/Desktop/my-site/src/components/Stdin.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"/home/sjd/Desktop/my-site/src/components/Stdin.vue","mtime":1599003308149},{"path":"/home/sjd/Desktop/my-site/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/sjd/Desktop/my-site/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/sjd/Desktop/my-site/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/sjd/Desktop/my-site/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/sjd/Desktop/my-site/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/sjd/Desktop/my-site/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKQGltcG9ydCAiLi4vc2Nzcy9taXhpbnMiOwoKLnZ1ZS1jb21tYW5kIHsKICAudGVybS1zdGRpbi1jb250YWluZXIgewogICAgZGlzcGxheTogZmxleDsKICB9CgogIGlucHV0LAogIHRleHRhcmVhIHsKICAgIGJhY2tncm91bmQ6IG5vbmU7CiAgICBib3JkZXI6IG5vbmU7CiAgICBmb250LWZhbWlseTogIkluY29uc29sYXRhIiwgbW9ub3NwYWNlOwogICAgY29sb3I6ICM2NTg4OGM7CiAgICBmb250LXNpemU6IDIwcHg7CiAgICBvdXRsaW5lOiBub25lOwogICAgZmxleDogMTsKICAgIHdpZHRoOiAxMDAlOwoKICAgICY6OnBsYWNlaG9sZGVyIHsKICAgICAgY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC41KTsKICAgIH0KICB9CgogIC50ZXJtLXN0ZGluIHsKICAgIGZsZXg6IDE7CiAgICBjb2xvcjogIzY1ODg4YzsKICAgIGZvbnQtc2l6ZTogMjBweDsKICAgIG1hcmdpbjogMDsKICAgIGJvcmRlcjogMDsKICAgIGNvbG9yOiBpbmhlcml0OwogICAgZm9udC1mYW1pbHk6IGluaGVyaXQ7CiAgICBmb250LXNpemU6IDFyZW07CiAgfQp9Cg=="},{"version":3,"sources":["Stdin.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyMA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Stdin.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"term-stdin-container\">\n    <slot name=\"prompt\">\n      <span\n        v-if=\"!hidePrompt\"\n        class=\"term-ps\">{{ local.prompt }}</span>\n    </slot>\n\n    <span class=\"term-stdin\">\n      <input\n        ref=\"input\"\n        v-model=\"local.stdin\"\n        :autofocus=\"isLast\"\n        :disabled=\"!isLast || isInProgress\"\n        :placeholder=\"placeholder\"\n        type=\"text\"\n        autocorrect=\"off\"\n        autocapitalize=\"none\"\n        @click=\"setCursor($refs.input.selectionStart)\"\n        @keyup=\"setCursor($refs.input.selectionStart)\"\n        @keyup.enter.exact=\"handle\"/>\n    </span>\n  </div>\n</template>\n\n<script>\nexport default {\n  inject: ['setCursor', 'setStdin'],\n\n  props: {\n    bus: {\n      required: true,\n      type: Object\n    },\n\n    cursor: {\n      default: 0,\n      required: true,\n      type: Number\n    },\n\n    helpText: {\n      default: '',\n      type: String\n    },\n\n    helpTimeout: {\n      default: 0,\n      type: Number\n    },\n\n    hidePrompt: {\n      default: false,\n      type: Boolean\n    },\n\n    isInProgress: {\n      default: false,\n      required: true,\n      type: Boolean\n    },\n\n    isLast: {\n      default: false,\n      required: true,\n      type: Boolean\n    },\n\n    isFullscreen: {\n      default: false,\n      required: true,\n      type: Boolean\n    },\n\n    prompt: {\n      default: '',\n      type: String\n    },\n\n    showHelp: {\n      default: false,\n      type: Boolean\n    },\n\n    stdin: {\n      default: '',\n      required: true,\n      type: String\n    },\n\n    uid: {\n      required: true,\n      type: Number\n    }\n  },\n\n  data: () => ({\n    placeholder: '',\n    local: {\n      // This makes it possible to change the prompt during runtime\n      prompt: '',\n      stdin: ''\n    }\n  }),\n\n  watch: {\n    cursor () {\n      if (this.isLast) {\n        // Mirror the cursor position to the real cursor position\n        this.$refs.input.setSelectionRange(this.cursor, this.cursor)\n      }\n    },\n\n    async isInProgress () {\n      if (!this.isInProgress && this.isLast) {\n        await this.$nextTick()\n\n        this.scrollIntoView()\n        this.focus()\n      }\n    },\n\n    isLast (isLast, wasLast) {\n      if (wasLast && !isLast) {\n        // Allow components to get into focus\n        this.blur()\n      }\n    },\n\n    async stdin () {\n      // Only last Stdin is allowed to mutate\n      if (this.isLast && !this.isInProgress) {\n        this.local.stdin = this.stdin\n      }\n\n      await this.$nextTick()\n      // Set current cursor position\n      this.setCursor(this.$refs.input.selectionStart)\n    },\n\n    'local.stdin' () {\n      // Set current Stdin\n      this.$emit('update:stdin', this.local.stdin)\n      // Set current cursor position\n      this.setCursor(this.$refs.input.selectionStart)\n    }\n  },\n\n  created () {\n    this.local.prompt = this.prompt\n    this.local.stdin = this.stdin\n  },\n\n  mounted () {\n    // Scroll to current input\n    this.scrollIntoView()\n    // Focus new Stdin\n    this.focus()\n\n    setTimeout(() => {\n      if (this.isLast && this.showHelp) {\n        this.setPlaceholder(this.helpText)\n      }\n    }, this.helpTimeout)\n  },\n\n  methods: {\n    // Handle current command\n    handle () {\n      // Persist the current prompt\n      this.setPrompt(this.prompt)\n      // Request to handle the current Stdin\n      this.$emit('handle', this.local.stdin)\n      // Hide the current placeholder\n      this.setPlaceholder('')\n    },\n\n    setPlaceholder (placeholder) {\n      this.placeholder = placeholder\n    },\n\n    setPrompt (promt) {\n      this.local.prompt = promt\n    },\n\n    blur () {\n      this.$refs.input.blur()\n    },\n\n    focus () {\n      this.$refs.input.focus()\n    },\n\n    scrollIntoView () {\n      this.$refs.input.scrollIntoView()\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n@import \"../scss/mixins\";\n\n.vue-command {\n  .term-stdin-container {\n    display: flex;\n  }\n\n  input,\n  textarea {\n    background: none;\n    border: none;\n    font-family: \"Inconsolata\", monospace;\n    color: #65888c;\n    font-size: 20px;\n    outline: none;\n    flex: 1;\n    width: 100%;\n\n    &::placeholder {\n      color: rgba(255, 255, 255, 0.5);\n    }\n  }\n\n  .term-stdin {\n    flex: 1;\n    color: #65888c;\n    font-size: 20px;\n    margin: 0;\n    border: 0;\n    color: inherit;\n    font-family: inherit;\n    font-size: 1rem;\n  }\n}\n</style>\n"]}]}